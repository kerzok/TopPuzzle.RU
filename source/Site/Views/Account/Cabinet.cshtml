@using Toppuzzle.Site.Infrastucture
@{
    ViewBag.Title = "Кабинет";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts {
    <script src="~/Scripts/jquery/jquery-2.1.3.js"></script>
    <script src="~/Scripts/jquery-ui/jquery-ui.js"></script>
    <script src="~/Scripts/Cabinet.js"></script>
}

@section styles {
    <link href="~/Scripts/jquery-ui/jquery-ui.css" rel="stylesheet"/>
}

<div id="user-info">
    <div id="avatar">
        @if (ViewBag.User.HasAvatar) {
            <img src="~/Content/Users/@ViewBag.User.Id/@ViewBag.User.Avatar" width="90" height="90" alt="avatar" id="avatar-img"/>
        } else {
            <img src="~/Content/Images/Placeholder.png" width="90" height="90" alt="avatar placeholder" id="avatar-img" />
        }
    </div>
    <div id="user-info-and-settings">
        <input type="hidden" value="@ViewBag.User.Id" id="user-id"/>
        <h3>@ViewBag.User.UserName</h3>
        <div id="rating">Рейтинг: @ViewBag.User.Rating</div>
        <div id="my-puzzle" class="btn btn-default">Мои пазлы</div>
        @if (ApplicationFacade.Instance.GetCurrentUser() != null && ViewBag.User.Id == ApplicationFacade.Instance.GetCurrentUser().Id) {
            <div id="settings" class="btn btn-default">Настройки</div>
        }
    </div>
</div>
<div id="partial"></div>
